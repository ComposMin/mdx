<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mdx__Block (mdx.Mdx__Block)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">mdx</a> &#x00BB; Mdx__Block</nav><h1>Module <code>Mdx__Block</code></h1><p>Code blocks.</p><nav class="toc"><ul><li><a href="#printers">Printers</a></li><li><a href="#accessors">Accessors</a></li><li><a href="#evaluation">Evaluation</a></li><li><a href="#parsers">Parsers</a></li></ul></nav></header><dl><dt class="spec type" id="type-cram_value"><a href="#type-cram_value" class="anchor"></a><code><span class="keyword">type</span> cram_value</code><code> = </code><code>{</code><table class="record"><tr id="type-cram_value.pad" class="anchored"><td class="def field"><a href="#type-cram_value.pad" class="anchor"></a><code>pad : int;</code></td></tr><tr id="type-cram_value.tests" class="anchored"><td class="def field"><a href="#type-cram_value.tests" class="anchor"></a><code>tests : <span><a href="../Mdx/Cram/index.html#type-t">Mdx.Cram.t</a> list</span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-value"><a href="#type-value" class="anchor"></a><code><span class="keyword">type</span> value</code><code> = </code><table class="variant"><tr id="type-value.Raw" class="anchored"><td class="def constructor"><a href="#type-value.Raw" class="anchor"></a><code>| </code><code><span class="constructor">Raw</span></code></td></tr><tr id="type-value.OCaml" class="anchored"><td class="def constructor"><a href="#type-value.OCaml" class="anchor"></a><code>| </code><code><span class="constructor">OCaml</span></code></td></tr><tr id="type-value.Error" class="anchored"><td class="def constructor"><a href="#type-value.Error" class="anchor"></a><code>| </code><code><span class="constructor">Error</span> <span class="keyword">of</span> <span>string list</span></code></td></tr><tr id="type-value.Cram" class="anchored"><td class="def constructor"><a href="#type-value.Cram" class="anchor"></a><code>| </code><code><span class="constructor">Cram</span> <span class="keyword">of</span> <a href="index.html#type-cram_value">cram_value</a></code></td></tr><tr id="type-value.Toplevel" class="anchored"><td class="def constructor"><a href="#type-value.Toplevel" class="anchor"></a><code>| </code><code><span class="constructor">Toplevel</span> <span class="keyword">of</span> <span><a href="../Mdx/Toplevel/index.html#type-t">Mdx.Toplevel.t</a> list</span></code></td></tr></table></dt><dd><p>The type for block values.</p></dd></dl><dl><dt class="spec type" id="type-section"><a href="#type-section" class="anchor"></a><code><span class="keyword">type</span> section</code><code> = int * string</code></dt><dd><p>The type for sections.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.line" class="anchored"><td class="def field"><a href="#type-t.line" class="anchor"></a><code>line : int;</code></td></tr><tr id="type-t.file" class="anchored"><td class="def field"><a href="#type-t.file" class="anchor"></a><code>file : string;</code></td></tr><tr id="type-t.section" class="anchored"><td class="def field"><a href="#type-t.section" class="anchor"></a><code>section : <span><a href="index.html#type-section">section</a> option</span>;</code></td></tr><tr id="type-t.labels" class="anchored"><td class="def field"><a href="#type-t.labels" class="anchor"></a><code>labels : <span><span>(string * <span><span>(<span>[ `Eq <span>| `Neq</span> <span>| `Le</span> <span>| `Lt</span> <span>| `Ge</span> <span>| `Gt</span> ]</span> * string)</span> option</span>)</span> list</span>;</code></td></tr><tr id="type-t.header" class="anchored"><td class="def field"><a href="#type-t.header" class="anchor"></a><code>header : <span>string option</span>;</code></td></tr><tr id="type-t.contents" class="anchored"><td class="def field"><a href="#type-t.contents" class="anchor"></a><code>contents : <span>string list</span>;</code></td></tr><tr id="type-t.value" class="anchored"><td class="def field"><a href="#type-t.value" class="anchor"></a><code>value : <a href="index.html#type-value">value</a>;</code></td></tr></table><code>}</code></dt><dd><p>The type for supported code blocks.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p><code>empty</code> is the empty block.</p></dd></dl><section><header><h3 id="printers"><a href="#printers" class="anchor"></a>Printers</h3></header><dl><dt class="spec value" id="val-dump"><a href="#val-dump" class="anchor"></a><code><span class="keyword">val</span> dump : <span><a href="index.html#type-t">t</a> Fmt.t</span></code></dt><dd><p><code>dump</code> is the printer for dumping code blocks. Useful for debugging.</p></dd></dl><dl><dt class="spec value" id="val-pp_header"><a href="#val-pp_header" class="anchor"></a><code><span class="keyword">val</span> pp_header : <span>?&#8288;syntax:<a href="../Mdx__/Syntax/index.html#type-t">Mdx__.Syntax.t</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Fmt.t</span></code></dt><dd><p><code>pp_header</code> pretty-prints block headers.</p></dd></dl><dl><dt class="spec value" id="val-pp_contents"><a href="#val-pp_contents" class="anchor"></a><code><span class="keyword">val</span> pp_contents : <span>?&#8288;syntax:<a href="../Mdx__/Syntax/index.html#type-t">Mdx__.Syntax.t</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Fmt.t</span></code></dt><dd><p><code>pp_contents</code> pretty-prints block contents.</p></dd></dl><dl><dt class="spec value" id="val-pp_footer"><a href="#val-pp_footer" class="anchor"></a><code><span class="keyword">val</span> pp_footer : <span>?&#8288;syntax:<a href="../Mdx__/Syntax/index.html#type-t">Mdx__.Syntax.t</a></span> <span>&#45;&gt;</span> <span>unit Fmt.t</span></code></dt><dd><p><code>pp_footer</code> pretty-prints block footer.</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span>?&#8288;syntax:<a href="../Mdx__/Syntax/index.html#type-t">Mdx__.Syntax.t</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Fmt.t</span></code></dt><dd><p><code>pp</code> pretty-prints blocks.</p></dd></dl><dl><dt class="spec value" id="val-pp_line_directive"><a href="#val-pp_line_directive" class="anchor"></a><code><span class="keyword">val</span> pp_line_directive : <span><span>(string * int)</span> Fmt.t</span></code></dt><dd><p><code>pp_line_directive</code> pretty-prints a line directive given as a filename and line number.</p></dd></dl></section><section><header><h3 id="accessors"><a href="#accessors" class="anchor"></a>Accessors</h3></header><dl><dt class="spec value" id="val-mode"><a href="#val-mode" class="anchor"></a><code><span class="keyword">val</span> mode : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>[ <span>`Non_det of <span>[ `Command <span>| `Output</span> ]</span></span> <span>| `Normal</span> ]</span></code></dt><dd><p><code>mode t</code> is <code>t</code>'s mode.</p></dd></dl><dl><dt class="spec value" id="val-directory"><a href="#val-directory" class="anchor"></a><code><span class="keyword">val</span> directory : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p><code>directory t</code> is the directory where <code>t</code> tests should be run.</p></dd></dl><dl><dt class="spec value" id="val-source_trees"><a href="#val-source_trees" class="anchor"></a><code><span class="keyword">val</span> source_trees : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>source_trees t</code> is the list of extra source-trees to add as dependency of the code-block.</p></dd></dl><dl><dt class="spec value" id="val-file"><a href="#val-file" class="anchor"></a><code><span class="keyword">val</span> file : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p><code>file t</code> is the name of the file to synchronize <code>t</code> with.</p></dd></dl><dl><dt class="spec value" id="val-part"><a href="#val-part" class="anchor"></a><code><span class="keyword">val</span> part : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p><code>part t</code> is the part of the file to synchronize <code>t</code> with. If lines is not specified synchronize the whole file.</p></dd></dl><dl><dt class="spec value" id="val-environment"><a href="#val-environment" class="anchor"></a><code><span class="keyword">val</span> environment : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>environment t</code> is the name given to the environment where <code>t</code> tests are run.</p></dd></dl><dl><dt class="spec value" id="val-set_variables"><a href="#val-set_variables" class="anchor"></a><code><span class="keyword">val</span> set_variables : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(string * string)</span> list</span></code></dt><dd><p><code>set_variable t</code> is the list of environment variable to set and their values</p></dd></dl><dl><dt class="spec value" id="val-unset_variables"><a href="#val-unset_variables" class="anchor"></a><code><span class="keyword">val</span> unset_variables : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>unset_variable t</code> is the list of environment variable to unset</p></dd></dl><dl><dt class="spec value" id="val-required_packages"><a href="#val-required_packages" class="anchor"></a><code><span class="keyword">val</span> required_packages : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>required_packages t</code> is the names of the required packages</p></dd></dl><dl><dt class="spec value" id="val-skip"><a href="#val-skip" class="anchor"></a><code><span class="keyword">val</span> skip : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>skip t</code> is true iff <code>skip</code> is in the labels of <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-value"><a href="#val-value" class="anchor"></a><code><span class="keyword">val</span> value : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-value">value</a></code></dt><dd><p><code>value t</code> is <code>t</code>'s value.</p></dd></dl><dl><dt class="spec value" id="val-section"><a href="#val-section" class="anchor"></a><code><span class="keyword">val</span> section : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-section">section</a> option</span></code></dt><dd><p><code>section t</code> is <code>t</code>'s section.</p></dd></dl><dl><dt class="spec value" id="val-header"><a href="#val-header" class="anchor"></a><code><span class="keyword">val</span> header : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p><code>header t</code> is <code>t</code>'s header.</p></dd></dl><dl><dt class="spec value" id="val-executable_contents"><a href="#val-executable_contents" class="anchor"></a><code><span class="keyword">val</span> executable_contents : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>executable_contents t</code> is either <code>t</code>'s contents if <code>t</code> is a raw or a cram block, or <code>t</code>'s commands if <code>t</code> is a toplevel fragments (e.g. the phrase result is discarded).</p></dd></dl><dl><dt class="spec value" id="val-version_enabled"><a href="#val-version_enabled" class="anchor"></a><code><span class="keyword">val</span> version_enabled : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>version_supported t</code> if the current OCaml version complies with <code>t</code>'s version.</p></dd></dl></section><section><header><h3 id="evaluation"><a href="#evaluation" class="anchor"></a>Evaluation</h3></header><dl><dt class="spec value" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span class="keyword">val</span> eval : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>eval t</code> is the same as <code>t</code> but with it's value replaced by either <code>Cram</code> or <code>Toplevel</code> blocks, depending on <code>t</code>'s header.</p></dd></dl></section><section><header><h3 id="parsers"><a href="#parsers" class="anchor"></a>Parsers</h3></header><dl><dt class="spec value" id="val-labels_of_string"><a href="#val-labels_of_string" class="anchor"></a><code><span class="keyword">val</span> labels_of_string : string <span>&#45;&gt;</span> <span><span>(string * <span><span>(<span>[ `Eq <span>| `Neq</span> <span>| `Gt</span> <span>| `Ge</span> <span>| `Lt</span> <span>| `Le</span> ]</span> * string)</span> option</span>)</span> list</span></code></dt><dd><p><code>labels_of_string s</code> cuts <code>s</code> into a list of labels.</p></dd></dl></section></div></body></html>